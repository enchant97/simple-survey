{% extends "/base.html" %}
{% block title %}{{ poll.title }}{% endblock %}
{% block main %}
<form action="{{ url_for('poll.post_poll_vote', poll_id=poll.id) }}" method="post">
    <p>{{ poll.description }}</p>
    {% for field in fields %}
    <fieldset class="mb-2" id="poll-field-{{ field.id }}">
        <legend>{{ field.caption }}</legend>
        {% if field.field_type == FieldTypes.RADIO %}
        {% for option in field.options %}
        <div class="form-check">
            <input class="form-check-input" type="radio" name="{{ field.id }}"
                id="poll-field-{{ field.id }}-option-{{ option.id }}" value="{{ option.id }}" {% if field.required
                %}required{% endif %}>
            <label class="form-check-label" for="">{{ option.caption }}</label>
        </div>
        {% endfor %}
        {% elif field.field_type == FieldTypes.CHECK %}
        {% for option in field.options %}
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="{{ field.id }}"
                id="poll-field-{{ field.id }}-option-{{ option.id }}" value="{{ option.id }}" {% if field.required
                %}required{% endif %}>
            <label class="form-check-label" for="">{{ option.caption }}</label>
        </div>
        {% endfor %}
        {% elif field.field_type == FieldTypes.DROP_DOWN %}
        <select class="form-select" name="" id="" aria-label="{{ field.caption }}" {% if field.required %}required{%
            endif %}>
            <option value="">Select An Option</option>
            {% for option in field.options %}
            <option value="{{ option.id }}">{{ option.caption }}</option>
            {% endfor %}
        </select>
        {% elif field.field_type == FieldTypes.SHORT_TEXT %}
        <input class="form-control" type="text" name="{{ field.id }}" id="poll-field-{{ field.id }}-value"
            maxlength="60" aria-label="{{ field.caption }}" placeholder="short text..." {% if field.required
            %}required{% endif %}>
        {% elif field.field_type == FieldTypes.LONG_TEXT %}
        <textarea class="form-control" type="text" name="{{ field.id }}" id="poll-field-{{ field.id }}-value"
            maxlength="255" aria-label="{{ field.caption }}" placeholder="long text..." {% if field.required
            %}required{% endif %}></textarea>
        {% elif field.field_type == FieldTypes.EMAIL %}
        <input class="form-control" type="email" name="{{ field.id }}" id="poll-field-{{ field.id }}-value"
            aria-label="{{ field.caption }}" placeholder="example@example.com" {% if field.required %}required{% endif
            %}>
        {% elif field.field_type == FieldTypes.PHONE %}
        <input class="form-control" type="tel" name="{{ field.id }}" id="poll-field-{{ field.id }}-value"
            aria-label="{{ field.caption }}" placeholder="123456789" {% if field.required %}required{% endif %}>
        {% elif field.field_type == FieldTypes.INTEGER %}
        <input class="form-control" type="number" name="{{ field.id }}" id="poll-field-{{ field.id }}-value" step="1"
            aria-label="{{ field.caption }}" {% if field.required %}required{% endif %}>
        {% endif %}
    </fieldset>
    {% endfor %}
    <button class="btn btn-primary" type="submit">Submit</button>
</form>
{% endblock %}
